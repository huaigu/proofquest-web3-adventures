graph TD
    A[开始创建 Quest] --> B{Step 1: 基础信息与任务类型}
    B --> B1[输入标题、描述等基础信息]
    B1 --> B2{选择 Quest 类型}
    B2 -- "Twitter 互动" --> B3[选择互动类型]
    B2 -- "Quote 推文" --> B4[输入推文链接与要求]
    B2 -- "发送推文" --> B5[输入内容要求]
    B3 --> C
    B4 --> C
    B5 --> C

    C{Step 2: 门槛与奖励配置} --> C1[设置参与门槛]
    C1 --> C2{选择奖励类型}
    C2 -- "ETH" --> C3[输入 ETH 奖励设置]
    C2 -- "ERC20 Token" --> C4[输入 ERC20 设置]
    C2 -- "NFT" --> C5[输入 NFT 设置]
    C3 --> C6
    C4 --> C6
    C5 --> C6
    C6[计算总奖池] --> C7{选择领取方式}
    C7 -- "一次性领取" --> C8[设置解锁时间]
    C7 -- "线性释放" --> C9{检查任务类型兼容}
    C9 -- "兼容" --> C10[设置释放周期等]
    C9 -- "不兼容" --> C11[错误提示, 重新选择]
    C11 --> C7
    C8 --> D
    C10 --> D

    D{Step 3: 时间配置与审核} --> D1[设置开始/结束时间]
    D1 --> D2[设置奖励领取截止]
    D2 --> D3[预览全部配置]
    D3 --> D4{确认信息是否正确}
    D4 -- "否, 修改" --> B
    D4 -- "是, 继续" --> E

    E[最终确认与钱包连接] --> E1{奖励为 ERC20/NFT?}
    E1 -- "是" --> E2[钱包授权给主合约]
    E2 --> E3
    E1 -- "否, 是ETH" --> E3
    E3[调用主合约 createQuest 函数] --> F{交易是否成功}
    F -- "是" --> G[成功! 返回 questId]
    F -- "否" --- H[失败! 显示错误]